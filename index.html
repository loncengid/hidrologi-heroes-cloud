<!DOCTYPE html>
<html lang="id">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Hidrologi Heroes Dashboard - NISEEF 2026</title>
    <style>
        /* Desain Kontras Tinggi */
        :root { 
            --dark-card: rgba(0, 0, 0, 0.75); /* Hitam transparan lebih pekat */
            --highlight: #00d4ff; 
            --text-main: #ffffff;
        }
        body {
            font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif; 
            margin: 0; color: var(--text-main);
            background: url('https://raw.githubusercontent.com/loncengid/Hidrologi-Heroes-Assets/main/background%20plmth.png') no-repeat center center fixed;
            background-size: cover;
        }
        .container { min-height: 100vh; padding: 20px; display: flex; flex-direction: column; align-items: center; }
        
        .glass-card {
            background: var(--dark-card); 
            backdrop-filter: blur(15px);
            border-radius: 25px; 
            border: 2px solid var(--highlight);
            padding: 30px; width: 95%; max-width: 500px; display: none;
            box-shadow: 0 10px 40px rgba(0,0,0,0.6);
        }
        .active { display: block; animation: slideUp 0.4s ease-out; }
        @keyframes slideUp { from { opacity: 0; transform: translateY(20px); } to { opacity: 1; transform: translateY(0); } }

        h1, h2, h3 { text-shadow: 3px 3px 6px rgba(0,0,0,0.8); font-weight: 800; text-transform: uppercase; }
        img.scene-img { width: 100%; border-radius: 15px; margin-bottom: 20px; border: 3px solid #fff; }
        
        /* Tombol Menu Utama & Sub-Menu */
        .btn {
            width: 100%; padding: 18px; margin: 10px 0; border: none; border-radius: 15px;
            font-size: 18px; font-weight: 800; cursor: pointer; transition: 0.3s;
            text-transform: uppercase; letter-spacing: 1px;
        }
        .btn-main { background: linear-gradient(45deg, #007bff, #00c6ff); color: white; border-bottom: 4px solid #0056b3; }
        
        /* Tombol Jawaban Kuis - Kontras Tinggi */
        .quiz-item { background: rgba(255, 255, 255, 0.1); padding: 20px; border-radius: 20px; margin-bottom: 30px; border-left: 5px solid var(--highlight); }
        .quiz-item p { font-size: 18px; font-weight: bold; margin-bottom: 15px; line-height: 1.4; }
        .ans-btn { 
            background: #ffffff; color: #001f3f; /* Putih bersih dengan teks gelap */
            width: 100%; text-align: left; padding: 15px; margin: 8px 0; 
            border-radius: 12px; border: none; font-size: 16px; font-weight: 700; cursor: pointer;
        }
        .ans-btn:hover { background: var(--highlight); color: white; }

        /* Navigasi */
        .nav-group { display: flex; gap: 12px; margin-top: 25px; }
        .btn-nav { flex: 1; background: rgba(0,0,0,0.6); padding: 15px; border-radius: 12px; border: 2px solid white; color: white; font-weight: bold; font-size: 14px; }
        .btn-home { background: #ff1744; border: none; }
        
        .qr-box { background: white; padding: 15px; border-radius: 15px; display: inline-block; margin: 15px 0; }
        .desc-text { text-align: left; font-size: 16px; line-height: 1.6; background: rgba(0,0,0,0.5); padding: 15px; border-radius: 12px; }
    </style>
</head>
<body>

<div class="container">
    <h1 onclick="showPage('menu-utama')" style="cursor:pointer; font-size: 28px;">HIDROLOGI HEROES</h1>

    <div id="menu-utama" class="glass-card active">
        <h2>Menu Utama</h2>
        <button class="btn btn-main" onclick="showPage('menu-siswa')">A. SISWA</button>
        <button class="btn btn-main" onclick="aksesGuru()">B. GURU</button>
        <p style="font-size:14px; margin-top:20px; font-weight: bold;">Sanggar Prestasi Aksa Swastika</p>
    </div>

    <div id="menu-siswa" class="glass-card">
        <img src="https://raw.githubusercontent.com/loncengid/Hidrologi-Heroes-Assets/main/scene%201.png" class="scene-img">
        <h3>Halo Siswa!</h3>
        <button class="btn btn-main" onclick="startPenjelasan()">1. Penjelasan</button>
        <button class="btn btn-main" onclick="showPage('hal-kuis')">2. Kuis</button>
        <button class="btn btn-main" onclick="showPage('hal-nonton')">3. Menonton</button>
        <button class="btn btn-main" onclick="showPage('hal-diorama')">4. Diorama</button>
        <div class="nav-group"><button class="btn-nav btn-home" onclick="showPage('menu-utama')">HOME</button></div>
    </div>

    <div id="hal-penjelasan" class="glass-card">
        <img id="img-penjelasan" src="" class="scene-img">
        <div class="desc-text" id="text-penjelasan"></div>
        <div class="nav-group">
            <button class="btn-nav" onclick="prevSlide()">BACK</button>
            <button class="btn-nav btn-home" onclick="showPage('menu-utama')">HOME</button>
            <button class="btn-nav" onclick="nextSlide()">NEXT</button>
        </div>
    </div>

    <div id="hal-kuis" class="glass-card">
        <h3>Kuis Interaktif</h3>
        <div id="quiz-container"></div>
        <div class="nav-group"><button class="btn-nav btn-home" onclick="showPage('menu-utama')">HOME</button></div>
    </div>

    <div id="hal-nonton" class="glass-card">
        <h3>Video Edukasi</h3>
        <button class="btn btn-main" onclick="window.open('https://www.youtube.com/watch?v=QNdvnetmG5A')">BUKA VIDEO YOUTUBE</button>
        <div class="qr-box" id="yt-qr"></div>
        <p style="color:black; font-weight:bold; font-size:14px;">Scan untuk Menonton</p>
        <div class="nav-group"><button class="btn-nav btn-home" onclick="showPage('menu-utama')">HOME</button></div>
    </div>

    <div id="hal-diorama" class="glass-card">
        <h3>Kontrol Diorama</h3>
        <button class="btn" style="background:#f44336" onclick="kirim('evaporasi')">1. EVAPORASI</button>
        <button class="btn" style="background:#ff9800" onclick="kirim('kondensasi')">2. KONDENSASI</button>
        <button class="btn" style="background:#4caf50" onclick="kirim('presipitasi')">3. PRESIPITASI</button>
        <button class="btn" style="background:#2196f3" onclick="kirim('banjir')">4. BANJIR</button>
        <button class="btn" style="background:#333; margin-top:15px;" onclick="kirim('off')">MATIKAN SEMUA</button>
        <div class="nav-group"><button class="btn-nav btn-home" onclick="showPage('menu-utama')">HOME</button></div>
    </div>

    <div id="menu-guru" class="glass-card">
        <img src="https://raw.githubusercontent.com/loncengid/Hidrologi-Heroes-Assets/main/scene%206.png" class="scene-img">
        <h3>Panel Guru</h3>
        <p>Akses Terbatas: Monitor Sistem IoT Aktif</p>
        <button class="btn btn-main" onclick="alert('Skor Berhasil Direset')">Reset Database</button>
        <div class="nav-group"><button class="btn-nav btn-home" onclick="showPage('menu-utama')">LOGOUT</button></div>
    </div>
</div>

<script src="https://www.gstatic.com/firebasejs/8.10.0/firebase-app.js"></script>
<script src="https://www.gstatic.com/firebasejs/8.10.0/firebase-database.js"></script>

<script>
    var config = { databaseURL: "https://hidrologi-heroes-default-rtdb.asia-southeast1.firebasedatabase.app/" };
    firebase.initializeApp(config);
    var db = firebase.database();

    // DATA PENJELASAN
    let currentSlide = 0;
    const slides = [
        { img: "https://raw.githubusercontent.com/loncengid/Hidrologi-Heroes-Assets/main/Scene%20Evaporasi.png", text: "<b>1. EVAPORASI:</b> Penguapan air laut/bumi karena panas matahari." },
        { img: "https://raw.githubusercontent.com/loncengid/Hidrologi-Heroes-Assets/main/Scene%20Kondensasi.png", text: "<b>2. KONDENSASI:</b> Uap air menjadi awan karena udara dingin." },
        { img: "https://raw.githubusercontent.com/loncengid/Hidrologi-Heroes-Assets/main/scene%201.png", text: "<b>3. PRESIPITASI:</b> Jatuhnya air hujan dari awan ke bumi." },
        { img: "https://raw.githubusercontent.com/loncengid/Hidrologi-Heroes-Assets/main/scene%206.png", text: "<b>BENCANA ALAM:</b> Kerusakan alam seperti banjir dan tanah longsor." }
    ];

    // DATA KUIS (10 PERTANYAAN PPT)
    const questions = [
        { q: "1. Penguapan air laut karena panas matahari disebut?", a: ["Evaporasi", "Kondensasi"], c: 0 },
        { q: "2. Uap air menjadi titik air di awan disebut?", a: ["Kondensasi", "Presipitasi"], c: 0 },
        { q: "3. Banjir dapat terjadi karena?", a: ["Hujan deras terus-menerus", "Gempa bumi"], c: 0 },
        { q: "4. Tanah longsor biasanya terjadi di daerah?", a: ["Pegunungan yang gundul", "Tanah datar yang kering"], c: 0 },
        { q: "5. Cara mencegah tanah longsor adalah?", a: ["Menanam banyak pohon", "Menebang pohon sembarang"], c: 0 },
        { q: "6. Turunnya hujan ke bumi disebut?", a: ["Presipitasi", "Infiltrasi"], c: 0 },
        { q: "7. Air hujan yang meresap ke tanah disebut?", a: ["Infiltrasi", "Kondensasi"], c: 0 },
        { q: "8. Salju dan hujan es adalah contoh dari?", a: ["Presipitasi", "Evaporasi"], c: 0 },
        { q: "9. Perubahan air menjadi uap air disebut?", a: ["Evaporasi", "Kondensasi"], c: 0 },
        { q: "10. Salah satu penyebab banjir adalah?", a: ["Hujan deras", "Gunung meletus"], c: 0 }
    ];

    function showPage(id) {
        document.querySelectorAll('.glass-card').forEach(c => c.classList.remove('active'));
        document.getElementById(id).classList.add('active');
        window.scrollTo(0,0);
        if(id === 'hal-nonton') genYTQR();
        if(id === 'hal-kuis') renderQuiz();
    }

    function aksesGuru() {
        let pin = prompt("Masukkan PIN Guru:");
        if(pin === "1234") showPage('menu-guru');
        else alert("PIN SALAH!");
    }

    function renderQuiz() {
        let html = "";
        questions.forEach((item, index) => {
            html += `<div class="quiz-item"><p>${item.q}</p>`;
            item.a.forEach((ans, i) => {
                html += `<button class="ans-btn" onclick="cek(${index}, ${i})">${String.fromCharCode(65+i)}. ${ans}</button>`;
            });
            html += `</div>`;
        });
        document.getElementById('quiz-container').innerHTML = html;
    }

    function cek(qIdx, aIdx) {
        if(aIdx === questions[qIdx].c) alert("HEBAT! JAWABAN ANDA BENAR.");
        else alert("AYO COBA LAGI! JAWABAN KURANG TEPAT.");
    }

    function genYTQR() {
        let url = "https://www.youtube.com/watch?v=QNdvnetmG5A";
        document.getElementById('yt-qr').innerHTML = `<img src="https://api.qrserver.com/v1/create-qr-code/?size=150x150&data=${encodeURIComponent(url)}">`;
    }

    function startPenjelasan() { currentSlide = 0; updateSlide(); showPage('hal-penjelasan'); }
    function updateSlide() {
        document.getElementById('img-penjelasan').src = slides[currentSlide].img;
        document.getElementById('text-penjelasan').innerHTML = slides[currentSlide].text;
    }
    function nextSlide() { if(currentSlide < slides.length-1){ currentSlide++; updateSlide(); } else { showPage('menu-siswa'); } }
    function prevSlide() { if(currentSlide > 0){ currentSlide--; updateSlide(); } else { showPage('menu-siswa'); } }
    function kirim(s) { db.ref("diorama/status").set(s); }
</script>
</body>
</html>
